$(function(){$(".upperDigit").each(function(){var b=$(this);var e=$(this).attr("resources");var a=new RegExp("#\\w+#","g");b.textbox("setValue","\u96f6\u5143\u6574");var d=e.match(a);if(d.length==0){return false}var c=d[0];var f=c.substring(1,c.length-1);$("#xf_f_"+f).textbox({onChange:function(){var g=upDigit($(this).val());b.textbox("setValue",g)}})});$(".calculator").each(function(){var a=this.id;var h=$(this);var b=$(this).attr("resources");if(!b){return false}h.textbox("setValue",replacePattern(h,b));var g=new RegExp("#\\w+#","g");var c=b.match(g);for(var i in c){var e=c[i];var f=new RegExp(e);var d=e.substring(1,e.length-1);$("#xf_f_"+d).textbox({onChange:function(){var j={};j[this.id]=$(this).val();h.textbox("setValue",replacePattern(h,b,j))}});if(h.hasClass("easyui-numberbox")){}}})});function replacePattern(target,resources,keyAndvalue){if(!resources){return false}var regObj=new RegExp("#\\w+#","g");var res_array=resources.match(regObj);for(var key in res_array){var res=res_array[key];var regTmp=new RegExp(res);var name=res.substring(1,res.length-1);if(keyAndvalue&&keyAndvalue["xf_f_"+name]){resources=resources.replace(regTmp,keyAndvalue["xf_f_"+name])}else{var value=$("#xf_f_"+name).val();var defaultVal=target.hasClass("easyui-numberbox")?0:"";resources=resources.replace(regTmp,value?value:defaultVal)}}var mode;if(target.hasClass("easyui-numberbox")){mode=eval(resources)}else{mode=resources.split("+").join("")}return mode}function upDigit(b){var h=["\u89d2","\u5206"];var e=["\u96f6","\u58f9","\u8d30","\u53c1","\u8086","\u4f0d","\u9646","\u67d2","\u634c","\u7396"];var g=[["\u5143","\u4e07","\u4ebf"],["","\u62fe","\u4f70","\u4edf"]];var f=b<0?"\u6b20":"";b=Math.abs(b);var k="";for(var d=0;d<h.length;d++){k+=(e[Math.floor(b*10*Math.pow(10,d))%10]+h[d]).replace(/\u96f6./,"")}k=k||"\u6574";b=Math.floor(b);for(var d=0;d<g[0].length&&b>0;d++){var a="";for(var c=0;c<g[1].length&&b>0;c++){a=e[b%10]+g[1][c]+a;b=Math.floor(b/10)}k=a.replace(/(\u96f6.)*\u96f6$/,"").replace(/^$/,"\u96f6")+g[0][d]+k}return f+k.replace(/(\u96f6.)*\u96f6\u5143/,"\u5143").replace(/(\u96f6.)+/g,"\u96f6").replace(/^\u6574$/,"\u96f6\u5143\u6574")};
